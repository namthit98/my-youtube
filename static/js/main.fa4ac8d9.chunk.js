(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports={Videos:"Videos_Videos__3gnZw"}},27:function(e,t,a){e.exports={Video:"Video_Video__3ZGPU"}},30:function(e,t,a){e.exports={Toast:"Toast_Toast__SimIf",show:"Toast_show__1Il4a"}},33:function(e,t,a){e.exports=a(76)},76:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(22),o=a.n(s),r=a(4),l=a(5),c=a(8),d=a(7),u=a(9),m=a(78),v=a(77),p=a(79),h=function(e){return i.a.createElement("div",{className:"ui container"},i.a.createElement("div",{className:"ui menu"},i.a.createElement(p.a,{exact:!0,to:"/",className:"item"},"Home"),i.a.createElement(p.a,{to:"/library",className:"item"},"My Library"),i.a.createElement("div",{className:"right menu"},i.a.createElement("div",{className:"item"},"Copyright \xa9 by \xa0",i.a.createElement("strong",null,"NamHandsome")))))},f=a(14),b=a.n(f),g=a(24),y=a(25),E=a.n(y).a.create({baseURL:"https://www.googleapis.com/youtube/v3/",params:{part:"snippet",maxResults:"10",key:"AIzaSyABl2Kujtvpu8V2r5TzRFWffIbZodLjSN0"}}),w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={term:""},a.changeInputHandler=function(e){var t=e.target.value;a.setState({term:t})},a.submitFormHandler=function(e){e.preventDefault(),a.props.submitForm(a.state.term),a.setState({term:""})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"ui segment"},i.a.createElement("form",{className:"ui form",onSubmit:this.submitFormHandler},i.a.createElement("div",{className:"field"},i.a.createElement("label",null,"Search video"),i.a.createElement("input",{type:"text",value:this.state.term,onChange:this.changeInputHandler,name:"search-video",placeholder:"Input video name ....."}))))}}]),t}(n.Component),V=a(26),N=a.n(V),O=a(27),j=a.n(O),S=function(e){var t=e.video,a=e.clicked;return i.a.createElement("div",{className:j.a.Video+" item",onClick:function(){a(t)}},i.a.createElement("img",{className:"ui image",alt:"Hello",src:t.snippet.thumbnails.default.url}),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"header"},t.snippet.title)))},T=function(e){var t=e.videos,a=e.selectVideo,n=t.map(function(e){return i.a.createElement(S,{key:e.id.videoId,video:e,clicked:a})});return i.a.createElement("div",{className:N.a.Videos+" ui list divided segment"},n)},I=a(11),k=function(){function e(){Object(r.a)(this,e),this.name="videos"}return Object(l.a)(e,null,[{key:"load",value:function(){return JSON.parse(localStorage.getItem(this.name))||[]}},{key:"add",value:function(e){var t=JSON.parse(localStorage.getItem(this.name))||[];return!t.some(function(t){return t.id.videoId===e.id.videoId})&&(t.push(e),localStorage.setItem(this.name,JSON.stringify(t)),!0)}},{key:"remove",value:function(e){var t=JSON.parse(localStorage.getItem(this.name))||[];t.splice(e,1),localStorage.setItem(this.name,JSON.stringify(t))}}]),e}(),x=function(e){return i.a.createElement("div",{className:"ui active inverted dimmer"},i.a.createElement("br",null),i.a.createElement("div",{className:"ui massive text loader"},"Loading"))},H=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={loaded:!1},a.addToLibrary=function(){k.add(a.props.video)?a.props.showToast("Add to list successfully !","green"):a.props.showToast("This video is existing !","red")},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.video,n=t.autoplay;if(!a)return i.a.createElement("h1",null,"Select Video, please");var s={playerVars:{autoplay:n}};return i.a.createElement("div",{className:"ui segment"},i.a.createElement("div",{className:"ui embed"},this.state.loaded?null:i.a.createElement(x,null),i.a.createElement(I.a,{videoId:a.id.videoId,opts:s,onReady:function(){return e.setState({loaded:!0})}})),i.a.createElement("div",{className:"ui segment centered grid",style:{paddingTop:"5px",paddingBottom:"5px"}},i.a.createElement("button",{className:"ui button green large",onClick:this.addToLibrary},"Add To Library")))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={videos:[],selectedVideo:null,loading:!1,autoplay:0},a.submitFormHandler=function(){var e=Object(g.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0,selectedVideo:null,videos:[],autoplay:0}),e.next=3,E.get("/search",{params:{q:t}});case 3:n=e.sent,a.setState({selectedVideo:n.data.items[0],videos:n.data.items,loading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.selectVideoHandler=function(e){a.setState({selectedVideo:e,autoplay:1})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"ui container"},i.a.createElement(w,{submitForm:this.submitFormHandler}),this.state.loading?i.a.createElement(x,null):null,this.state.videos.length>0?i.a.createElement("div",{className:"ui grid"},i.a.createElement("div",{className:"eleven wide column"},i.a.createElement(H,{video:this.state.selectedVideo,autoplay:this.state.autoplay,showToast:this.props.showToast})),i.a.createElement("div",{className:"five wide column"},i.a.createElement(T,{videos:this.state.videos.slice(1),selectVideo:this.selectVideoHandler}))):null)}}]),t}(n.Component),_=a(30),A=a.n(_),F=function(e){return i.a.createElement("div",{className:"".concat(A.a.Toast," ui ").concat(e.color||"red"," label large")},e.children)},J=a(31),L=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={videos:[],selectedVideo:null,loaded:!1,autoplay:0,nowVideo:0},a.selectVideoHandler=function(e){var t=a.state.videos.findIndex(function(t){return t.id.videoId===e.id.videoId});a.setState(function(e){return{selectedVideo:e.videos[t],nowVideo:t,autoplay:1}})},a.deleteVideoHandler=function(){var e=Object(J.a)(a.state.videos);e.splice(a.state.nowVideo,1),k.remove(a.state.nowVideo),a.setState({videos:e,selectedVideo:e[0],nowVideo:0})},a.nextVideo=function(){var e=a.state.nowVideo;e+1>=a.state.videos.length?e=0:e+=1,a.setState(function(t){return{selectedVideo:t.videos[e],nowVideo:e,autoplay:1}})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState(function(){return{videos:k.load()}})}},{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{selectedVideo:e.state.videos[e.state.nowVideo]}})}},{key:"render",value:function(){var e=this;if(!this.state.selectedVideo)return i.a.createElement(x,null);var t={height:"390",width:"100%",playerVars:{autoplay:this.state.autoplay}};return i.a.createElement("div",{className:"ui container grid"},i.a.createElement("div",{className:"eleven wide column"},i.a.createElement("div",{className:"ui segment"},this.state.loaded?null:i.a.createElement(x,null),i.a.createElement(I.a,{opts:t,videoId:this.state.selectedVideo.id.videoId,onReady:function(){return e.setState({loaded:!0})},onEnd:this.nextVideo}),i.a.createElement("div",{className:"ui segment centered grid",style:{paddingTop:"5px",paddingBottom:"5px"}},i.a.createElement("button",{className:"ui button red large",onClick:this.deleteVideoHandler},"Delete")))),i.a.createElement("div",{className:"five wide column"},i.a.createElement(T,{videos:this.state.videos,selectVideo:this.selectVideoHandler})))}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={showToast:!1,toastMessage:"",toastColor:"blue"},a.showToastHandler=function(e,t){a.setState({toastMessage:e,showToast:!0,toastColor:t}),setTimeout(function(){a.setState({toastMessage:"",showToast:!1})},1e3)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{basename:"/my-youtube"},i.a.createElement("div",{className:"App"},this.state.showToast?i.a.createElement(F,{color:this.state.toastColor},this.state.toastMessage):null,i.a.createElement(h,null),i.a.createElement("br",null),i.a.createElement(v.a,{exact:!0,path:"/",render:function(){return i.a.createElement(C,{showToast:e.showToastHandler})}}),i.a.createElement(v.a,{path:"/library",component:L})))}}]),t}(n.Component);o.a.render(i.a.createElement(M,null),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.fa4ac8d9.chunk.js.map
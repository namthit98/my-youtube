(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports={Videos:"Videos_Videos__gP5Rl"}},28:function(e,t,a){e.exports={Video:"Video_Video__29wp4"}},31:function(e,t,a){e.exports={Toast:"Toast_Toast__1bYSd",show:"Toast_show__23C1T"}},33:function(e,t,a){e.exports=a(76)},76:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(23),i=a.n(o),r=a(4),l=a(5),c=a(8),d=a(7),u=a(9),m=a(78),v=a(77),h=a(79),p=function(e){return s.a.createElement("div",{className:"ui container"},s.a.createElement("div",{className:"ui menu"},s.a.createElement(h.a,{exact:!0,to:"/",className:"item"},"Home"),s.a.createElement(h.a,{to:"/library",className:"item"},"My Library"),s.a.createElement("div",{className:"right menu"},s.a.createElement("div",{className:"item"},"Copyright \xa9 by \xa0",s.a.createElement("strong",null,"NamHandsome")))))},f=a(14),b=a.n(f),g=a(25),y=a(26),E=a.n(y).a.create({baseURL:"https://www.googleapis.com/youtube/v3/",params:{part:"snippet",maxResults:"10",key:"AIzaSyABl2Kujtvpu8V2r5TzRFWffIbZodLjSN0"}}),V=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={term:""},a.changeInputHandler=function(e){var t=e.target.value;a.setState({term:t})},a.submitFormHandler=function(e){e.preventDefault(),a.props.submitForm(a.state.term),a.setState({term:""})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ui segment"},s.a.createElement("form",{className:"ui form",onSubmit:this.submitFormHandler},s.a.createElement("div",{className:"field"},s.a.createElement("label",null,"Search video"),s.a.createElement("input",{type:"text",value:this.state.term,onChange:this.changeInputHandler,name:"search-video",placeholder:"Input video name ....."}))))}}]),t}(n.Component),w=a(27),N=a.n(w),O=a(28),j=a.n(O),S=function(e){var t=e.video,a=e.clicked;return s.a.createElement("div",{className:j.a.Video+" item",onClick:function(){a(t)}},s.a.createElement("img",{className:"ui image",alt:"Hello",src:t.snippet.thumbnails.default.url}),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"header"},t.snippet.title)))},T=function(e){var t=e.videos,a=e.selectVideo,n=t.map(function(e){return s.a.createElement(S,{key:e.id.videoId,video:e,clicked:a})});return s.a.createElement("div",{className:N.a.Videos+" ui list divided segment"},n)},k=a(11),I=function(){function e(){Object(r.a)(this,e),this.name="videos"}return Object(l.a)(e,null,[{key:"load",value:function(){return JSON.parse(localStorage.getItem(this.name))||[]}},{key:"add",value:function(e){var t=JSON.parse(localStorage.getItem(this.name))||[];return!t.some(function(t){return t.id.videoId===e.id.videoId})&&(t.push(e),localStorage.setItem(this.name,JSON.stringify(t)),!0)}},{key:"remove",value:function(e){var t=JSON.parse(localStorage.getItem(this.name))||[];t.splice(e,1),localStorage.setItem(this.name,JSON.stringify(t))}}]),e}(),x=function(e){return s.a.createElement("div",{className:"ui active inverted dimmer"},s.a.createElement("br",null),s.a.createElement("div",{className:"ui massive text loader"},"Loading"))},H=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={loaded:!1},a.addToLibrary=function(){I.add(a.props.video)?a.props.showToast("Add to list successfully !","green"):a.props.showToast("This video is existing !","red")},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.video,n=t.autoplay;if(!a)return s.a.createElement("h1",null,"Select Video, please");var o={playerVars:{autoplay:n}};return s.a.createElement("div",{className:"ui segment"},s.a.createElement("div",{className:"ui embed"},this.state.loaded?null:s.a.createElement(x,null),s.a.createElement(k.a,{videoId:a.id.videoId,opts:o,onReady:function(){return e.setState({loaded:!0})}})),s.a.createElement("div",{className:"ui segment centered grid",style:{paddingTop:"5px",paddingBottom:"5px"}},s.a.createElement("button",{className:"ui button green large",onClick:this.addToLibrary},"Add To Library")))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={videos:[],selectedVideo:null,loading:!1,autoplay:0},a.submitFormHandler=function(){var e=Object(g.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0,selectedVideo:null,videos:[],autoplay:0}),e.next=3,E.get("/search",{params:{q:t}});case 3:n=e.sent,a.setState({selectedVideo:n.data.items[0],videos:n.data.items,loading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.selectVideoHandler=function(e){a.setState({selectedVideo:e,autoplay:1})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ui container"},s.a.createElement(V,{submitForm:this.submitFormHandler}),this.state.loading?s.a.createElement(x,null):null,this.state.videos.length>0?s.a.createElement("div",{className:"ui grid"},s.a.createElement("div",{className:"eleven wide column"},s.a.createElement(H,{video:this.state.selectedVideo,autoplay:this.state.autoplay,showToast:this.props.showToast})),s.a.createElement("div",{className:"five wide column"},s.a.createElement(T,{videos:this.state.videos.slice(1),selectVideo:this.selectVideoHandler}))):null)}}]),t}(n.Component),_=a(31),A=a.n(_),M=function(e){return s.a.createElement("div",{className:"".concat(A.a.Toast," ui ").concat(e.color||"red"," label large")},e.children)},F=a(15),J=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={videos:[],selectedVideo:null,loaded:!1,autoplay:0,nowVideo:0},a.selectVideoHandler=function(e){var t=a.state.videos.findIndex(function(t){return t.id.videoId===e.id.videoId});a.setState(function(e){return{selectedVideo:e.videos[t],nowVideo:t,autoplay:1}})},a.deleteVideoHandler=function(){var e=Object(F.a)(a.state.videos);e.splice(a.state.nowVideo,1),I.remove(a.state.nowVideo),a.setState({videos:e,selectedVideo:e[0],nowVideo:0})},a.nextVideo=function(){var e=a.state.nowVideo;e+1>=a.state.videos.length?e=0:e+=1,a.setState(function(t){return{selectedVideo:t.videos[e],nowVideo:e,autoplay:1}})},a.shuffleVideosHandler=function(){var e=Object(F.a)(a.state.videos);e.sort(function(){return.5-Math.random()}),a.setState({videos:e})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.setState(function(){return{videos:I.load()}})}},{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{selectedVideo:e.state.videos[e.state.nowVideo]}})}},{key:"render",value:function(){var e=this;if(!this.state.selectedVideo)return s.a.createElement(x,null);var t={height:"390",width:"100%",playerVars:{autoplay:this.state.autoplay}};return s.a.createElement("div",{className:"ui container grid"},s.a.createElement("div",{className:"eleven wide column"},s.a.createElement("div",{className:"ui segment"},this.state.loaded?null:s.a.createElement(x,null),s.a.createElement(k.a,{opts:t,videoId:this.state.selectedVideo.id.videoId,onReady:function(){return e.setState({loaded:!0})},onEnd:this.nextVideo}),s.a.createElement("div",{className:"ui segment centered grid",style:{paddingTop:"5px",paddingBottom:"5px"}},s.a.createElement("button",{className:"ui button blue large",onClick:this.deleteVideoHandler},"Delete"),s.a.createElement("button",{className:"ui button red large",onClick:this.shuffleVideosHandler},"Shuffle")))),s.a.createElement("div",{className:"five wide column"},s.a.createElement(T,{videos:this.state.videos,selectVideo:this.selectVideoHandler})))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={showToast:!1,toastMessage:"",toastColor:"blue"},a.showToastHandler=function(e,t){a.setState({toastMessage:e,showToast:!0,toastColor:t}),setTimeout(function(){a.setState({toastMessage:"",showToast:!1})},1e3)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(m.a,{basename:"/youtube-library"},s.a.createElement("div",{className:"App"},this.state.showToast?s.a.createElement(M,{color:this.state.toastColor},this.state.toastMessage):null,s.a.createElement(p,null),s.a.createElement("br",null),s.a.createElement(v.a,{exact:!0,path:"/",render:function(){return s.a.createElement(C,{showToast:e.showToastHandler})}}),s.a.createElement(v.a,{path:"/library",component:J})))}}]),t}(n.Component);i.a.render(s.a.createElement(L,null),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.45bbf7de.chunk.js.map